{"id":"beadui-1","title":"Build beads GUI","description":"Create an egui-based GUI for beads issue tracker","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2025-10-20T09:25:15.4871-06:00","updated_at":"2025-10-20T09:25:15.4871-06:00","dependencies":[{"issue_id":"beadui-1","depends_on_id":"beadui-2","type":"blocks","created_at":"2025-10-20T09:25:15.511979-06:00","created_by":"auto-import"}]}
{"id":"beadui-10","title":"enable loading and tracking multiple .beads root dirs","description":"we should have a left sidebar that can be collapsed or restored. this sidebar should show a list of directories that are being monitored (like during \"refresh\" operations, or loading the app). the sidebar should show checkboxes next to each directory so that it can be hidden or visible in the list view. all views so far are modeless. the user-level configuration of this data should reside in a file at ~/.config/beadui/config.yaml where we can store per-directory information. another assumption here is that we should slightly alter the boot-up behavior of the app to automatically ensure that the $PWD is added to the monitored directories list in a durable way, and if it was not already there to be set as visible by default (so that its elements appear in the list view.)\n","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-20T09:25:15.488979-06:00","updated_at":"2025-10-20T09:25:15.488979-06:00","dependencies":[{"issue_id":"beadui-10","depends_on_id":"beadui-12","type":"parent-child","created_at":"2025-10-20T09:25:15.512869-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-13","type":"parent-child","created_at":"2025-10-20T09:25:15.513547-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-14","type":"parent-child","created_at":"2025-10-20T09:25:15.514261-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-15","type":"parent-child","created_at":"2025-10-20T09:25:15.514997-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-16","type":"parent-child","created_at":"2025-10-20T09:25:15.515736-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-17","type":"parent-child","created_at":"2025-10-20T09:25:15.516435-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-18","type":"parent-child","created_at":"2025-10-20T09:25:15.517142-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-19","type":"parent-child","created_at":"2025-10-20T09:25:15.517838-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-20","type":"parent-child","created_at":"2025-10-20T09:25:15.518509-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-21","type":"parent-child","created_at":"2025-10-20T09:25:15.519135-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-22","type":"parent-child","created_at":"2025-10-20T09:25:15.519765-06:00","created_by":"auto-import"},{"issue_id":"beadui-10","depends_on_id":"beadui-23","type":"parent-child","created_at":"2025-10-20T09:25:15.520386-06:00","created_by":"auto-import"}]}
{"id":"beadui-11","title":"Add snapshot-based caching for BdClient calls","description":"The app is currently invoking 'bd' commands too frequently, causing microhangs during rendering. We should implement a snapshot-based cache that: 1) Caches all BdClient method results (keyed by method + parameters) within a refresh cycle, 2) Clears the cache when Refresh is clicked, 3) Uses read-through pattern so first call hits CLI and subsequent calls use cache. This will eliminate repeated 'bd show' calls during column cardinality calculations and readiness computations. Profile shows 88ms spent in BdClient::get_issue during show_list_table.","notes":"Here's a summary:\n\n  Snapshot-based Caching Strategy:\n\n  1. Snapshot concept: A versioned cache that holds all data fetched during a refresh cycle\n    - Contains cached results from BdClient calls (keyed by method + parameters)\n    - Each snapshot has a version number that increments on refresh\n  2. Cache invalidation:\n    - When \"Refresh\" is clicked → increment version, clear the cache\n    - All subsequent BdClient calls within that snapshot version use the cache\n  3. Read-through pattern:\n    - First call to BdClient::get_issue(\"beadui-1\") → hits the real CLI, stores result in cache\n    - Subsequent calls with same params → return cached result\n    - No duplicate bd invocations within the same snapshot\n  4. Benefits:\n    - Eliminates the microhangs from repeated bd show calls\n    - get_column_cardinality() and get_readiness() won't invoke bd multiple times for the same issue\n    - Clean separation: cache lives for one \"view\" of the data\n\n  Implementation approach:\n  - Add a snapshot_cache: HashMap\u003cCacheKey, CachedData\u003e to BeadUiApp\n  - CacheKey would be something like (MethodName, IssueId)\n  - Wrap BdClient calls to check cache first\n  - Clear cache in refresh()\n","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-20T09:25:15.490184-06:00","updated_at":"2025-10-20T09:25:15.490184-06:00"}
{"id":"beadui-12","title":"Add serde_yaml and dirs dependencies to Cargo.toml","description":"Add serde_yaml for YAML config file handling and dirs crate for getting ~/.config path reliably","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-20T09:25:15.491223-06:00","updated_at":"2025-10-20T09:25:15.491223-06:00"}
{"id":"beadui-13","title":"Create DirectoryConfig and AppConfig structures","description":"Create DirectoryConfig struct (path, visible, display_name) and AppConfig struct (directories, sidebar_collapsed) for managing monitored directories","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-20T09:25:15.492135-06:00","updated_at":"2025-10-20T09:25:15.492135-06:00","dependencies":[{"issue_id":"beadui-13","depends_on_id":"beadui-12","type":"blocks","created_at":"2025-10-20T09:25:15.521054-06:00","created_by":"auto-import"}]}
{"id":"beadui-14","title":"Update Issue data model with source_directory field","description":"Add source_directory: String field to Issue struct and add SortColumn::Directory variant to support the new Directory column","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-20T09:25:15.493054-06:00","updated_at":"2025-10-20T09:25:15.493054-06:00"}
{"id":"beadui-15","title":"Implement config file load/save functionality","description":"Implement AppConfig::load() to read from ~/.config/beadui/config.yaml and AppConfig::save() to write. Create config directory if it doesn't exist. Handle missing/corrupt config files gracefully.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-20T09:25:15.49396-06:00","updated_at":"2025-10-20T09:25:15.49396-06:00","dependencies":[{"issue_id":"beadui-15","depends_on_id":"beadui-13","type":"blocks","created_at":"2025-10-20T09:25:15.521754-06:00","created_by":"auto-import"}]}
{"id":"beadui-16","title":"Implement smart display name logic for directories","description":"Compute display names from paths. Detect duplicate base names (e.g., two 'foo' directories). For duplicates, add abbreviated path in parentheses: 'foo (~/src/foo)', 'foo (~/old/foo)'. For unique names, show just the base name.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-20T09:25:15.494878-06:00","updated_at":"2025-10-20T09:25:15.494878-06:00","dependencies":[{"issue_id":"beadui-16","depends_on_id":"beadui-13","type":"blocks","created_at":"2025-10-20T09:25:15.522463-06:00","created_by":"auto-import"}]}
{"id":"beadui-17","title":"Update BdClient to support multiple directories","description":"Modify list_issues() to accept optional db_path parameter and use --db flag. Add source_directory to returned issues. Create list_issues_from_all() method that iterates visible directories and merges results.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-20T09:25:15.495819-06:00","updated_at":"2025-10-20T09:25:15.495819-06:00","dependencies":[{"issue_id":"beadui-17","depends_on_id":"beadui-14","type":"blocks","created_at":"2025-10-20T09:25:15.523177-06:00","created_by":"auto-import"}]}
{"id":"beadui-18","title":"Implement left sidebar UI with directory list","description":"Use egui::SidePanel::left() to show list of monitored directories with checkboxes (controls visibility), display names with smart disambiguation, and collapse/expand toggle. Save config whenever checkboxes are toggled.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-10-20T09:25:15.496936-06:00","updated_at":"2025-10-20T09:25:15.496936-06:00","dependencies":[{"issue_id":"beadui-18","depends_on_id":"beadui-13","type":"blocks","created_at":"2025-10-20T09:25:15.52387-06:00","created_by":"auto-import"},{"issue_id":"beadui-18","depends_on_id":"beadui-15","type":"blocks","created_at":"2025-10-20T09:25:15.524543-06:00","created_by":"auto-import"},{"issue_id":"beadui-18","depends_on_id":"beadui-16","type":"blocks","created_at":"2025-10-20T09:25:15.525179-06:00","created_by":"auto-import"}]}
{"id":"beadui-19","title":"Add Directory column to issue table","description":"Add new 'Directory' column to the table (after ID, before Title) showing computed display name for each issue. Make it sortable and filterable like other columns. Column width: ~120px.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-10-20T09:25:15.498031-06:00","updated_at":"2025-10-20T09:25:15.498031-06:00","dependencies":[{"issue_id":"beadui-19","depends_on_id":"beadui-14","type":"blocks","created_at":"2025-10-20T09:25:15.525857-06:00","created_by":"auto-import"}]}
{"id":"beadui-2","title":"Add list view","description":"Implement the main list view with sorting","status":"closed","priority":1,"issue_type":"task","assignee":"wbbradley","created_at":"2025-10-20T09:25:15.498944-06:00","updated_at":"2025-10-20T09:25:15.498944-06:00"}
{"id":"beadui-20","title":"Update refresh() and core methods for multi-directory support","description":"Update refresh() to load issues from all visible directories and merge into single list. Update get_issue_uncached() to pass appropriate --db flag based on issue's source directory. Make cache directory-aware for issue lookups.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-20T09:25:15.499821-06:00","updated_at":"2025-10-20T09:25:15.499821-06:00","dependencies":[{"issue_id":"beadui-20","depends_on_id":"beadui-17","type":"blocks","created_at":"2025-10-20T09:25:15.526502-06:00","created_by":"auto-import"}]}
{"id":"beadui-21","title":"Add file picker UI for adding new directories","description":"Add rfd crate for native file dialogs. When user clicks '+' in sidebar, open folder picker. Validate selected directory contains .beads/ subdirectory. Add to config, mark as visible by default, save config.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-20T09:25:15.500679-06:00","updated_at":"2025-10-20T09:25:15.500679-06:00","dependencies":[{"issue_id":"beadui-21","depends_on_id":"beadui-18","type":"blocks","created_at":"2025-10-20T09:25:15.527218-06:00","created_by":"auto-import"},{"issue_id":"beadui-21","depends_on_id":"beadui-12","type":"blocks","created_at":"2025-10-20T09:25:15.527914-06:00","created_by":"auto-import"}]}
{"id":"beadui-22","title":"Add auto-detection of PWD on startup","description":"On startup, auto-add current working directory (/Users/wbbradley/src/beadui) to config if not already present and mark as visible by default. This ensures the app works immediately when launched from a beads directory.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-20T09:25:15.501636-06:00","updated_at":"2025-10-20T09:25:15.501636-06:00","dependencies":[{"issue_id":"beadui-22","depends_on_id":"beadui-15","type":"blocks","created_at":"2025-10-20T09:25:15.528561-06:00","created_by":"auto-import"}]}
{"id":"beadui-23","title":"Test multi-directory functionality end-to-end","description":"Build and run the app. Verify PWD auto-added on first launch. Test adding additional directories via '+' button. Test checkbox toggle for visibility. Test sidebar collapse/restore. Verify issues from multiple directories display correctly with Directory column. Test filtering and sorting by directory.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-20T09:25:15.502602-06:00","updated_at":"2025-10-20T09:25:15.502602-06:00","dependencies":[{"issue_id":"beadui-23","depends_on_id":"beadui-18","type":"blocks","created_at":"2025-10-20T09:25:15.52919-06:00","created_by":"auto-import"},{"issue_id":"beadui-23","depends_on_id":"beadui-19","type":"blocks","created_at":"2025-10-20T09:25:15.529847-06:00","created_by":"auto-import"},{"issue_id":"beadui-23","depends_on_id":"beadui-20","type":"blocks","created_at":"2025-10-20T09:25:15.530494-06:00","created_by":"auto-import"},{"issue_id":"beadui-23","depends_on_id":"beadui-21","type":"blocks","created_at":"2025-10-20T09:25:15.531116-06:00","created_by":"auto-import"},{"issue_id":"beadui-23","depends_on_id":"beadui-22","type":"blocks","created_at":"2025-10-20T09:25:15.531762-06:00","created_by":"auto-import"}]}
{"id":"beadui-24","title":"arrow keys in list view are not using current sort order","description":"","status":"open","priority":2,"issue_type":"bug","created_at":"2025-10-20T09:25:15.503381-06:00","updated_at":"2025-10-20T09:25:15.503381-06:00"}
{"id":"beadui-25","title":"Fix column overdraw with proper clipping","description":"Columns in the table are overdrawing one another. Rendering should be clipped to column boundaries to prevent text from one column appearing in another.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-10-20T09:25:15.504152-06:00","updated_at":"2025-10-20T10:55:20.322812-06:00","closed_at":"2025-10-20T10:55:20.322812-06:00"}
{"id":"beadui-26","title":"Fix list view and split view overdraw with clipping","description":"The list view and split view panels are overdrawing one another. Rendering should be clipped to panel boundaries to prevent content from overlapping between the list and detail views.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-10-20T09:25:15.505072-06:00","updated_at":"2025-10-20T13:34:12.363284-06:00","closed_at":"2025-10-20T13:34:12.363284-06:00"}
{"id":"beadui-27","title":"Move sidebar expand/collapse button to top menu bar","description":"The sidebar expand button currently appears as a floating window that can overdraw list view data. Instead, the expand/collapse functionality should be integrated into the top menu bar alongside the app title, similar to how Refresh and Filter are positioned.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-20T09:25:15.505809-06:00","updated_at":"2025-10-20T09:25:15.505809-06:00"}
{"id":"beadui-28","title":"detail view does not show the parent directory for the issue","description":"the detail view should indicate the directory the issue belongs to","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-20T09:27:52.347029-06:00","updated_at":"2025-10-20T09:27:52.347029-06:00"}
{"id":"beadui-29","title":"the \"create issue\" UI should allow selection of the parent directory","description":"currently in the \"Create New Issue\" dialog box there is no way to specify which directory the issue belongs to.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-10-20T10:53:06.771288-06:00","updated_at":"2025-10-20T11:03:41.410654-06:00","closed_at":"2025-10-20T11:03:41.410654-06:00"}
{"id":"beadui-3","title":"Add issue editing in detail view","description":"Allow editing issue fields (title, description, status, priority, assignee) from the detail view","notes":"This is an edit to a closed issue.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-20T09:25:15.506558-06:00","updated_at":"2025-10-20T09:25:15.506558-06:00"}
{"id":"beadui-30","title":"git rid of \"Beads Issue Tracker\" text in list view pane","description":"The window title already says \"Beads UI\" let's change the window title to \"Beads Issue Tracker\" and eliminate it from the list view pane.","status":"open","priority":3,"issue_type":"task","created_at":"2025-10-20T10:56:20.55707-06:00","updated_at":"2025-10-20T10:56:20.55707-06:00"}
{"id":"beadui-31","title":"enable double-clicking on column borders to auto size","description":"double clicking on list view column resize handle should auto-size the column","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-20T10:57:40.626347-06:00","updated_at":"2025-10-20T10:57:40.626347-06:00"}
{"id":"beadui-32","title":"resizing the window should keep columns the same size except for the issue Title column","description":"this is intended to make the user experience more consistent. when the window is resized, all of the columns sizes should stay the same, except for the Title column. it should grow and shrink to make sure that the columns fit in the window. if the window is too small, the Title column will shrink until it is about 100 pixels wide. it should not be allowed to be shrunk lower than that","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-20T10:59:38.963617-06:00","updated_at":"2025-10-20T10:59:38.963617-06:00"}
{"id":"beadui-33","title":"detail view dependency management","description":"we should be able to manage the dependencies of issues from the detail view. this can be restricted to edits in only one direction \"depends on\". so, in issue mybeads-1, we could want to say that mybeads-1 depends on mybeads-2. so, to accomplish this, we could show the \"Blockers\" list with extra controls per dependency, to add and remove blockers. Dependents should be immutable since we can manage the dependencies from the issue that is blocked.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-20T11:19:51.50295-06:00","updated_at":"2025-10-20T11:19:51.50295-06:00"}
{"id":"beadui-34","title":"Table rows still overdraw into detail panel despite clipping attempts","description":"The table rows in the list view are still overdrawing into the detail panel area, even after multiple clipping fixes.\n\nPROBLEM:\nWhen the split view is active, table row cells from the list view render over the detail panel's header area (the 'Issue: ...' | Refresh line). Individual cells appear to ignore the parent panel's clip boundaries.\n\nWHAT WE'VE TRIED:\n1. Added set_clip_rect() to both list and detail panels (beadui-26)\n2. Added set_clip_rect() to individual table cells (beadui-25) \n3. Created separate clip rect for list panel that ends before separator (list_clip_rect that is list_height - separator_height)\n4. Added spacing at top of detail view (ui.add_space(4.0))\n5. Wrapped entire TableBuilder in ScrollArea with vertical scrolling\n\nWHAT WORKS:\n- Column text clipping within cells works (beadui-25 fix)\n- Detail panel content is properly clipped\n- ScrollArea provides proper scrolling\n\nWHAT DOESN'T WORK:\n- Table rows that partially extend beyond the list panel boundary still render their cells fully, overdrawing into the detail panel area\n- The cells seem to use row-based logical clipping rather than respecting the parent panel's clip rect\n\nHYPOTHESIS:\nTableBuilder or the row rendering may be using row-top-based clipping logic, where if any part of a row is visible, all cells in that row are rendered. The individual cell clip rects may not intersect properly with the parent panel's clip boundary.\n\nNEXT STEPS TO TRY:\n- Investigate if TableBuilder has clip_rows or similar functionality\n- Consider manually culling rows based on available height\n- Look into whether egui_extras::TableBuilder respects parent clip rects\n- May need to compute visible row range and only render those rows","status":"open","priority":1,"issue_type":"bug","created_at":"2025-10-20T13:33:42.039778-06:00","updated_at":"2025-10-20T13:33:42.039778-06:00"}
{"id":"beadui-4","title":"Add new issue creation dialog","description":"Add button and dialog to create new issues from the GUI","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-20T09:25:15.507305-06:00","updated_at":"2025-10-20T09:38:10.30962-06:00","closed_at":"2025-10-20T09:38:10.30962-06:00"}
{"id":"beadui-5","title":"Improve visual styling","description":"Better colors, fonts, spacing, and overall visual design","notes":"blah","status":"closed","priority":3,"issue_type":"task","created_at":"2025-10-20T09:25:15.508045-06:00","updated_at":"2025-10-20T09:25:15.508045-06:00"}
{"id":"beadui-6","title":"allow resizing of the top horizontal list/detail split","description":"let's enable moving the split location up and down. this implies that we should make the size of the divider a bit larger, and respond to mouseover cursor changes, etc","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-20T09:25:15.508756-06:00","updated_at":"2025-10-20T09:25:15.508756-06:00"}
{"id":"beadui-7","title":"let's add a column for blockers","description":"it would be nice to see the dependency graph at a quick glance. we could have a column that at the very least just listed the count of dependent issues and blockers for each issue in the list view. this work should also visit the detail view and make sure that the dependents section is always visible even if it is empty. and, it should show dependents and blockers. we should also make sure we are using a uniform nomenclature for these two concepts in all places (think ingress and egress from a dag)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-20T09:25:15.509516-06:00","updated_at":"2025-10-20T09:25:15.509516-06:00"}
{"id":"beadui-8","title":"column header filters","description":"each column should have a default filter (like status should default to filtering out \"closed\") and then we should allow a right-click context menu where items can be filtered in or out. for cells with a high cardinality (above 20) we should put a label/note explaining that filtering is not available.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-20T09:25:15.510351-06:00","updated_at":"2025-10-20T09:25:15.510351-06:00"}
{"id":"beadui-9","title":"Fix font rendering on macOS","description":"The UI is currently using a generic font (appears to be Ubuntu or similar) instead of the native macOS system UI font. We should configure egui to use the system's San Francisco font for a more native look.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-20T09:25:15.511107-06:00","updated_at":"2025-10-20T09:25:15.511107-06:00"}
